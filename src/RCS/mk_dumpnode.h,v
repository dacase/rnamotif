head	1.5;
access;
symbols;
locks; strict;
comment	@ * @;


1.5
date	2001.09.13.05.01.31;	author macke;	state Exp;
branches;
next	1.4;

1.4
date	2000.04.25.00.20.44;	author macke;	state Exp;
branches;
next	1.3;

1.3
date	2000.03.26.01.51.47;	author macke;	state Exp;
branches;
next	1.2;

1.2
date	99.10.03.19.10.32;	author macke;	state Exp;
branches;
next	1.1;

1.1
date	99.09.04.23.26.31;	author macke;	state Exp;
branches;
next	;


desc
@shell script that creates the case interior of dumpnode()
in node.c
@


1.5
log
@added check for every id to start SYM_ as this is needed for
yacc with RH 7.1
@
text
@#! /bin/csh
tr '#' ' ' < $1 |\
awk '$2 ~ /^SYM_/{	printf( "\tcase %s :\n", $2 )\
	printf( "\t\tfprintf( fp, \"%s", $2 ) \
	if( $2 == "SYM_IDENT" ){ \
		printf( " = \\\"%%s\\\"\\n\"" ) \
		printf( ", np->n_val.v_value.v_pval" ) \
	}else if( $2 == "SYM_INT" ){ \
		printf( " = %%d\\n\"" ) \
		printf( ", np->n_val.v_value.v_ival" ) \
	}else if( $2 == "SYM_FLOAT" ){ \
		printf( " = %%lg\\n\"" ) \
		printf( ", np->n_val.v_value.v_dval" ) \
	}else if( $2 == "SYM_STRING" ){\
		printf( " = \\\"%%s\\\"\\n\"" ) \
		printf( ", np->n_val.v_value.v_pval" ) \
	}else if( $2 == "SYM_PAIRSET" ){\
		printf( " = " ) \
		printf( "RM_dump_pairset( fp, np->n_val.v_value.v_pval );" ) \
		printf( "\\n\"" ) \
	}else \
		printf( "\\n\"" ) \
	printf( " );\n" ) \
       	printf( "\t\tbreak;\n" )  } \
 END {  printf( "\tdefault :\n" ) \
	printf( "\t\tfprintf( fp, \"RM_dumpnode: Unknown symbol %%d\\n\"" ) \
	printf( ", np->n_sym );\n" ) \
	printf( "\t\tbreak;\n" ) } '
@


1.4
log
@changed v_fval to v_dval; change format from %e to %lg
@
text
@d3 1
a3 1
awk '{	printf( "\tcase %s :\n", $2 )\
@


1.3
log
@added branch to deal with SYM_PAIRSET.
@
text
@d12 2
a13 2
		printf( " = %%e\\n\"" ) \
		printf( ", np->n_val.v_value.v_fval" ) \
@


1.2
log
@changed name in errormsg to RM_dumpnode: from dumpnode
@
text
@d17 4
@


1.1
log
@Initial revision
@
text
@d22 1
a22 1
	printf( "\t\tfprintf( fp, \"dumpnode: Unknown symbol %%d\\n\"" ) \
@
